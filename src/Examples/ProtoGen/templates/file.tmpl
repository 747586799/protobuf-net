using Google.Protobuf;
using System.Collections.Generic;
// <auto-generated>
//     Generated by the protocol buffer compiler.  DO NOT EDIT!
//     source: @Model.File.Name
// </auto-generated>
@{
    //Helper functions for code generation
    string FormatNamespace(string ns)
    {
        if (string.IsNullOrEmpty(ns))
            return "Unknown";
        
        // 按点分割，每个部分首字母大写
        var parts = ns.Split('.');
        for (int i = 0; i < parts.Length; i++)
        {
            if (!string.IsNullOrEmpty(parts[i]))
            {
                parts[i] = char.ToUpper(parts[i][0]) + parts[i].Substring(1);
            }
        }
        return string.Join(".", parts);
    }
    Model.GetCodeNamespace = new protogen.CodeGenerators.RazorCodeGenerator.GetCodeNamespaceDelegate((fdp)=>
    {
        var name = fdp.Options?.CsharpNamespace;
        if (string.IsNullOrEmpty(name))
            name = Model.File.Package;
        return FormatNamespace(name);
    });
}
namespace @Model.GetCodeNamespace(Model.File)
{
    @foreach(var val in @Model.File.EnumTypes)
    {
@:@Raw(Model.GenerateEnum(val, 1))
    }

    @foreach(var val in @Model.File.MessageTypes)
    {
@:@Raw(Model.GenerateType(val, 1))
    }
}